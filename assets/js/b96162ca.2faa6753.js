"use strict";(self.webpackChunkprominence=self.webpackChunkprominence||[]).push([[362],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>b});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=o,b=u["".concat(l,".").concat(d)]||u[d]||c[d]||a;return n?r.createElement(b,i(i({ref:t},m),{},{components:n})):r.createElement(b,i({ref:t},m))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6419:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:7},i="Job status",s={unversionedId:"jobs/job-status",id:"jobs/job-status",title:"Job status",description:"Listing jobs",source:"@site/docs/jobs/job-status.md",sourceDirName:"jobs",slug:"/jobs/job-status",permalink:"/web/docs/jobs/job-status",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Standard output & error",permalink:"/web/docs/jobs/stdout-stderr"},next:{title:"Deleting a job",permalink:"/web/docs/jobs/deleting-jobs"}},l={},p=[{value:"Listing jobs",id:"listing-jobs",level:2},{value:"Describing jobs",id:"describing-jobs",level:2},{value:"Completed jobs",id:"completed-jobs",level:2}],m={toc:p};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"job-status"},"Job status"),(0,o.kt)("h2",{id:"listing-jobs"},"Listing jobs"),(0,o.kt)("p",null,"The list command by default lists any active jobs, i.e. jobs which are pending or running:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ prominence list\nID     STATUS    IMAGE                       CMD     ARGS\n3101   pending   alahiff/testpi\n3103   pending   alahiff/cherab-jet:latest   python  batch_make_sensitivity_matrix.py 0 59\n3104   pending   ikester/blender:latest      blender -b classroom/classroom.blend -o frame_### -f \n")),(0,o.kt)("p",null,"It\u2019s also possible to request a list of jobs using a constraint on the labels associated with each job. For example, if you submitted a group of jobs with a label ",(0,o.kt)("inlineCode",{parentName:"p"},"name=run5"),", the following would list all such jobs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ prominence list --all --constraint name=run5\n")),(0,o.kt)("p",null,"Here the ",(0,o.kt)("inlineCode",{parentName:"p"},"--all")," option means that both active (i.e. pending or running) and completed jobs will be listed.\xa7"),(0,o.kt)("h2",{id:"describing-jobs"},"Describing jobs"),(0,o.kt)("p",null,"To get more information about an individual job, use the describe command, for example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'$ prominence describe 345\n{\n  "id": , \n  "status": "pending", \n  "resources": {\n    "nodes": 1, \n    "disk": 10, \n    "cpus": 1, \n    "memory": 1\n  }, \n  "tasks": [\n    {\n      "image": "eoscprominence/testpi", \n      "runtime": "singularity"\n    }\n  ], \n  "events": {\n    "createTime": "2019-10-04 18:07:40"\n  }\n}\n')),(0,o.kt)("p",null,"To show information about completed jobs, both the list and describe commands accept a ",(0,o.kt)("inlineCode",{parentName:"p"},"--completed")," option. For example, to list the last 2 completed jobs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ prominence list --completed --last 2\nID     STATUS      IMAGE                       CMD          ARGS\n2980   completed   alahiff/tensorflow:1.11.0   python       models-1.11/official/mnist/mnist.py --export_dir mnist_saved_model\n2982   completed   alahiff/tensorflow:1.11.0   python       models-1.11/official/mnist/mnist.py --export_dir mnist_saved_model\n")),(0,o.kt)("p",null,"Note that jobs which are completed or have been removed for some reason may be visible briefly without using the ",(0,o.kt)("inlineCode",{parentName:"p"},"--completed")," option."),(0,o.kt)("h2",{id:"completed-jobs"},"Completed jobs"),(0,o.kt)("p",null,"The JSON descriptions of completed jobs contain additional information. This may include:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"status"),": current job status."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"statusReason"),": for jobs in a terminal state other than the completed state this may give a reason for the current status."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"createTime"),": date & time when the job was created by the user."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"startTime"),": date & time when the job started running."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"endTime"),": date & time when the job ended."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"site"),": the site where the job was executed."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maxMemoryUsageKB"),": the maximum total memory usage of the job, summed over all processes (note this is not available for jobs running on remote HTC or HPC resources)")),(0,o.kt)("p",null,"The following information is also provided for each task:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"retries"),": the number of retries attempted."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"exitCode"),": the exit code returned by the user\u2019s job. This would usually would be 0 for success."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"imagePullTime"),": time taken to pull the container image. If a cached image from a previous task was used this will be -1."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"wallTimeUsage"),": wall time used by the task."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"cpuTimeUsage"),": CPU time usage by the task. For a task using multiple CPUs this will be larger than the wall time."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maxResidentSetSizeKB"),": maximum resident size (in KB) of the largest process")))}u.isMDXComponent=!0}}]);